<!doctype html>
<html lang="en">
    
<head>
  <meta charset="utf-8">
  <meta name="author" content="Jason McCormack">
  <meta name="description" content ="">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
  <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/custom.css">
  <title>Illuminati | Welcome</title>
  <!-- <script src="scripts/script.js" defer></script> -->
</head>
    
<body>
  <!-- *****************************************************NAVIGATION MENU********************************************************************* -->
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item right active">
        <a class="nav-link" href="index.html"><img src="images/pngwave.png" width="30" height="30"></a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="dropdown1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">What We have To Offer</a>
        <div class="dropdown-menu" aria-labelledby="dropdown1">
          <a class="dropdown-item disabled" href="welcome.html"><span aria-hidden="true">Welcome</span></a>
          <a class="dropdown-item" href="about.html">About Us</a>
          <a class="dropdown-item" href="cats.html">Cats</a>
          <a class="dropdown-item" href="contact.html">Contact</a>
        </div>
      </li>
    </ul>
  </nav>
  <!-- *******************************************************SLIDES****************************************************************************** -->
  <div id="carSlide" class="carousel" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carSlide" data-slide-to="0" class="active"></li>
      <li data-target="#carSlide" data-slide-to="1"></li>
      <li data-target="#carSlide" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img id="car-custom" class="d-inline-block w-100" src="images/illImage1.png" width="800" alt="First slide">
      </div>
      <div class="carousel-item">
        <img class="d-inline-block w-100" src="images/illImage2.jpg" width="800" alt="Second slide">
      </div>
      <div class="carousel-item">
        <img class="d-inline-block w-100" src="images/illImage4.jpg" width="800" alt="Third slide">
      </div>
    </div>
    <a class="carousel-control-prev" href="#carSlide" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carSlide" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
  
<!-- *****************************************************************UI*********************************************************************** -->
<form id="getUser" class="mainForm">
  <div class="form text-center">
    <label for="nameField">Please enter your human first name</label>
    <input type="text" id="nameField" class="nameField" placeholder="First Name Only">
    <label for="ageField">Please enter your age</label>
    <input type="number" id="ageField" class="ageField" placeholder="Age in Years">
    <input type="submit" value="Choose Me" class="submitInfo">
  </div>
  <div class="resultField text-center">
    <p class="test"></p>
    <p class="info"></p>
    <p class="result"></p>
    <p id="link" class="link"></p>
  </div>
  </form> 

    <!-- ******************************************************RESULTS******************************************************************** -->
  <script>
    let randomNum = Math.floor(Math.random() * 100) + 1;
    const nameField = document.querySelector('.nameField');
    const ageField = document.querySelector('.ageField');
    const submitInfo = document.querySelector('.submitInfo');
    const info = document.querySelector('.info');
    const result = document.querySelector('.resultField');
    const linkDiv = document.querySelector('link');
    let resetButton;
    let welcome =  false;
    submitInfo.addEventListener('click', checkAge);
    let test = document.querySelector('.test');
    console.log(randomNum);

    function checkAge() {
      let ageNum = Number(ageField.value);
      nameField.disabled = true;
      ageField.disabled = true;
      submitInfo.disabled = true;

      info.textContent = nameField.value + ", " + ageField.value;

      if (ageNum >= randomNum) {

        welcome = true;
        welcomeDeny(welcome);
      }
      else {
        welcomeDeny(welcome);
      }
    }

    function welcomeDeny() {
      if (welcome === true) {
      
      result.textContent = "Welcome brother/sister/other to the New World Order! Please proceed";
      result.style.backgroundColor = 'green';
      result.style.color = 'white';
      var div = document.createElement('div');
      div.innerHTML = linkDiv;
      document.getElementById('link').appendChild(div);
      linkDiv = document.createTextNode("Click here for the next step in your illumination");

      let a = 1;
      console.log(a);
      }
      else {
        result.textContent = "Sorry. You're just a normie. Would you like to try again?";
        let b = 0;
        console.log(b);
        result.style.backgroundColor = 'red';
        result.style.color = 'white';
      }
      resetButton = document.createElement('button');
      resetButton.textContent = "Try again?";
      document.body.appendChild(resetButton);
      resetButton.addEventListener('click', resetForm);

    }

    function resetForm() {
      const resetResults = document.querySelectorAll('.resultField p');
      resetResults.textContent = '';
      resetButton.parentNode.removeChild(resetButton);
      nameField.disabled = false;
      ageField.disabled = false;
      submitInfo.disabled = false;
      result.textContent = "";
      ageField.textContent = "";
      nameField.textContent = "";
      info.textContent = '';
      nameField.focus();
      welcome = false;
      result.style.backgroundColor = 'white';
      randomNum = Math.floor(Math.random() * 100) + 1;
      console.log(randomNum);
      console.log(welcome);
    
    }
  </script>
      

    </div>
  </main>
      
      <script src="bootstrap/js/jquery.slim.js"></script>
      <script src="bootstrap/js/bootstrap.bundle.min.js"></script>
</body>
    
</html>